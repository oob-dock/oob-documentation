{
  "$defs": {
    "CreatePaymentConsentData": {
      "type": "object",
      "description": "Objeto contendo as informações de consentimento para a iniciação de pagamento individual.",
      "required": [
        "loggedUser",
        "creditor",
        "payment"
      ],
      "properties": {
        "loggedUser": {
          "$ref": "#/components/schemas/LoggedUser"
        },
        "businessEntity": {
          "$ref": "#/components/schemas/BusinessEntity"
        },
        "creditor": {
          "$ref": "#/components/schemas/Identification"
        },
        "payment": {
          "$ref": "#/components/schemas/PaymentConsent"
        },
        "debtorAccount": {
          "$ref": "#/components/schemas/DebtorAccount"
        }
      }
    },
    "CreatePixPaymentData": {
      "$ref": "#/components/schemas/CreatePixPaymentData"
    },
    "PatchPixPaymentData": {
      "$ref": "#/components/schemas/PatchPixPaymentData"
    },
    "PaymentId": {
      "description": "Array de chave e valor com a chave de identificação do recurso no sistema de origem (legado), permitindo chaves compostas",
      "type": "array",
      "items": {
          "type": "object",
          "required": [
              "key"
          ],
          "properties": {
              "key": {
                  "description": "Nome do campo do identificador no sistema de origem",
                  "type": "string",
                  "examples": [
                      "internalPaymentId"
                  ]
              },
              "value": {
                  "description": "Valor do campo do identificador no sistema de origem",
                  "type": "string",
                  "examples": [
                      "1234"
                  ]
              }
          },
          "additionalItems": false
      },
      "minItems": 1,
      "maxItems": 10
    }
  },
  "components": {
    "schemas": {
      "LoggedUser": {
        "type": "object",
        "description": "Usuário (pessoa natural) que encontra-se logado na instituição Iniciadora de Pagamento.",
        "required": [
          "document"
        ],
        "properties": {
          "document": {
            "type": "object",
            "required": [
              "identification",
              "rel"
            ],
            "properties": {
              "identification": {
                "type": "string",
                "maxLength": 11,
                "description": "Número do documento de identificação oficial do usuário.",
                "example": "11111111111",
                "pattern": "^\\d{11}$"
              },
              "rel": {
                "type": "string",
                "maxLength": 3,
                "description": "Tipo do documento de identificação oficial do usuário.",
                "example": "CPF",
                "pattern": "^[A-Z]{3}$"
              }
            }
          }
        }
      },
      "BusinessEntity": {
        "type": "object",
        "description": "Usuário (pessoa jurídica) que encontra-se logado na instituição Iniciadora de Pagamento. [Restrição] Preenchimento obrigatório se usuário logado na instituição Iniciadora de Pagamento for um CNPJ (pessoa jurídica).",
        "required": [
          "document"
        ],
        "properties": {
          "document": {
            "type": "object",
            "required": [
              "identification",
              "rel"
            ],
            "properties": {
              "identification": {
                "type": "string",
                "maxLength": 14,
                "description": "Número do documento de identificação oficial do titular pessoa jurídica.",
                "example": "11111111111111",
                "pattern": "^\\d{14}$"
              },
              "rel": {
                "type": "string",
                "maxLength": 4,
                "description": "Tipo do documento de identificação oficial do titular pessoa jurídica.",
                "example": "CNPJ",
                "pattern": "^[A-Z]{4}$"
              }
            }
          }
        }
      },
      "Identification": {
        "type": "object",
        "description": "Objeto contendo os dados do recebedor (creditor).",
        "required": [
          "personType",
          "cpfCnpj",
          "name"
        ],
        "properties": {
          "personType": {
            "$ref": "#/components/schemas/EnumPaymentPersonType"
          },
          "cpfCnpj": {
            "type": "string",
            "minLength": 11,
            "maxLength": 14,
            "pattern": "^\\d{11}$|^\\d{14}$",
            "example": "58764789000137",
            "description": "Identificação da pessoa envolvida na transação.  \nPreencher com o CPF ou CNPJ, de acordo com o valor escolhido no campo type.  \nO CPF será utilizado com 11 números e deverá ser informado sem pontos ou traços.  \nO CNPJ será utilizado com 14 números e deverá ser informado sem pontos ou traços.\n"
          },
          "name": {
            "type": "string",
            "pattern": "^([A-Za-zÀ-ÖØ-öø-ÿ,.@:&*+_<>()!?/\\\\$%\\d' -]+)$",
            "maxLength": 120,
            "example": "Marco Antonio de Brito",
            "description": "Em caso de pessoa natural deve ser informado o nome completo do titular da conta do recebedor.  \nEm caso de pessoa jurídica deve ser informada a razão social ou o nome fantasia da conta do recebedor.\n"
          }
        }
      },
      "EnumPaymentPersonType": {
        "type": "string",
        "enum": [
          "PESSOA_NATURAL",
          "PESSOA_JURIDICA"
        ],
        "description": "Titular, pessoa natural ou juridica a quem se referem os dados de recebedor (creditor).\n"
      },
      "EnumPaymentType": {
        "type": "string",
        "enum": [
          "PIX"
        ],
        "example": "PIX",
        "description": "Este campo define o tipo de pagamento que será iniciado após a autorização do consentimento.\n"
      },
      "Schedule": {
        "type": "object",
        "description": "[Restrição] Mutuamente excludente com o campo date. \n\nEste campo é obrigatório no caso de agendamento. \n\nNeste caso, o campo date não deve ser informado.\n",
        "required": [
          "single"
        ],
        "properties": {
          "single": {
            "type": "object",
            "description": "Define a política de agendamento único.",
            "required": [
              "date"
            ],
            "properties": {
              "date": {
                "type": "string",
                "format": "date",
                "maxLength": 10,
                "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
                "example": "2021-01-01",
                "description": "Define a data alvo da liquidação do pagamento. \n\nO fuso horário de Brasília deve ser utilizado para criação e racionalização sobre os dados deste campo.\n\nObservação: Esse campo deverá sempre ser no mínimo D+1 corrido, ou seja, a data imediatamente posterior em relação a data do consentimento considerando o fuso horário de Brasília e deverá ser no máximo D+365 corridos a partir da data do consentimento considerando o fuso horário de Brasília\n"
              }
            }
          }
        }
      },
      "Details": {
        "type": "object",
        "description": "Objeto contendo os detalhes do pagamento.\n",
        "required": [
          "localInstrument",
          "creditorAccount"
        ],
        "properties": {
          "localInstrument": {
            "$ref": "#/components/schemas/EnumLocalInstrument"
          },
          "qrCode": {
            "type": "string",
            "maxLength": 512,
            "pattern": "[\\w\\W\\s]*",
            "example": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012\nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062\n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB\nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
            "description": "Sequência de caracteres que corresponde ao QR Code disponibilizado para o pagador.\nÉ a sequência de caracteres que seria lida pelo leitor de QR Code, e deve propiciar o retorno dos dados do pagador após consulta na DICT.\nEssa funcionalidade é possível tanto para QR Code estático quanto para QR Code dinâmico.\nNo arranjo do Pix esta é a mesma sequência gerada e/ou lida pela funcionalidade Pix Copia e Cola.\nEste campo deverá ser no formato UTF-8.\n[Restrição] Preenchimento obrigatório para pagamentos por QR Code, observado o tamanho máximo de 512 bytes.\n"
          },
          "proxy": {
            "type": "string",
            "maxLength": 77,
            "pattern": "[\\w\\W\\s]*",
            "example": "12345678901",
            "description": "Chave cadastrada no DICT pertencente ao recebedor. Os tipos de chaves podem ser: telefone, e-mail, cpf/cnpj ou chave aleatória.\nNo caso de telefone celular deve ser informado no padrão E.1641.\nPara e-mail deve ter o formato xxxxxxxx@xxxxxxx.xxx(.xx) e no máximo 77 caracteres.\nNo caso de CPF deverá ser informado com 11 números, sem pontos ou traços.\nPara o caso de CNPJ deverá ser informado com 14 números, sem pontos ou traços.\nNo caso de chave aleatória deve ser informado o UUID gerado pelo DICT, conforme formato especificado na RFC41223.\nSe informado, a detentora da conta deve validar o proxy no DICT quando localInstrument for igual a DICT, QRDN ou QRES e validar o campo creditorAccount.\nEsta validação é opcional caso o localInstrument for igual a INIC.\n[Restrição]\nSe localInstrument for igual a MANU, o campo proxy não deve ser preenchido.\nSe localInstrument for igual INIC, DICT, QRDN ou QRES, o campo proxy deve ser sempre preenchido com a chave Pix.\n"
          },
          "creditorAccount": {
            "$ref": "#/components/schemas/CreditorAccount"
          }
        }
      },
      "EnumLocalInstrument": {
        "type": "string",
        "enum": [
          "MANU",
          "DICT",
          "QRDN",
          "QRES",
          "INIC"
        ],
        "example": "DICT",
        "description": "Especifica a forma de iniciação do pagamento:\n- MANU - Inserção manual de dados da conta transacional\n- DICT - Inserção manual de chave Pix\n- QRDN - QR code dinâmico\n- QRES - QR code estático\n- INIC - Indica que o recebedor (creditor) contratou o Iniciador de Pagamentos especificamente para realizar iniciações de pagamento em que o beneficiário é previamente conhecido.\n"
      },
      "CreditorAccount": {
        "type": "object",
        "description": "Objeto que contém a identificação da conta de destino do beneficiário/recebedor.  \n",
        "required": [
          "ispb",
          "number",
          "accountType"
        ],
        "properties": {
          "ispb": {
            "type": "string",
            "minLength": 8,
            "maxLength": 8,
            "pattern": "^[0-9]{8}$",
            "example": "12345678",
            "description": "Deve ser preenchido com o ISPB (Identificador do Sistema de Pagamentos Brasileiros) do participante do SPI (Sistema de pagamentos instantâneos) somente com números.\n"
          },
          "issuer": {
            "type": "string",
            "minLength": 1,
            "maxLength": 4,
            "pattern": "^[0-9]{1,4}$",
            "example": "1774",
            "description": "Código da Agência emissora da conta sem dígito. \n(Agência é a dependência destinada ao atendimento aos clientes, ao público em geral e aos associados de cooperativas de crédito, \nno exercício de atividades da instituição, não podendo ser móvel ou transitória).\n\n[Restrição] Preenchimento obrigatório para os seguintes tipos de conta: CACC (CONTA_DEPOSITO_A_VISTA) e SVGS (CONTA_POUPANCA).\n"
          },
          "number": {
            "type": "string",
            "minLength": 1,
            "maxLength": 20,
            "pattern": "^[0-9]{1,20}$",
            "example": "1234567890",
            "description": "Deve ser preenchido com o número da conta do usuário recebedor, com dígito verificador (se este existir),  \nse houver valor alfanumérico, este deve ser convertido para 0.\n"
          },
          "accountType": {
            "$ref": "#/components/schemas/EnumAccountPaymentsType"
          }
        }
      },
      "PaymentConsent": {
        "type": "object",
          "description": "Objeto contendo dados de pagamento para consentimento.",
          "required": [
            "type",
            "currency",
            "amount",
            "details"
          ],
          "properties": {
            "type": {
              "$ref": "#/components/schemas/EnumPaymentType"
            },
            "schedule": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Schedule"
                }
              ]
            },
            "date": {
              "type": "string",
              "format": "date",
              "maxLength": 10,
              "pattern": "^(\\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$",
              "example": "2021-01-01",
              "description": "[Restrição] Mutuamente excludente com o objeto schedule. \n\nEste campo é obrigatório no caso de pagamento único. \n\nNeste caso, o objeto schedule não deve ser informado.\n"
            },
            "currency": {
              "type": "string",
              "maxLength": 3,
              "pattern": "^([A-Z]{3})$",
              "example": "BRL",
              "description": "Código da moeda nacional segundo modelo ISO-4217, ou seja, 'BRL'.\nTodos os valores monetários informados estão representados com a moeda vigente do Brasil.\n"
            },
            "amount": {
              "type": "string",
              "minLength": 4,
              "maxLength": 19,
              "pattern": "^((\\d{1,16}\\.\\d{2}))$",
              "example": "100000.12",
              "description": "Valor da transação com 2 casas decimais. O valor deve ser o mesmo enviado no consentimento. \n\nPara QR Code estático com valor pré-determinado no QR Code ou para QR Code dinâmico com indicação de que o valor não pode ser alterado: O campo amount deve ser preenchido com o valor estabelecido no QR Code. \nCaso seja preenchido com valor divergente do QR Code, deve ser retornado um erro HTTP Status 422.\n"
            },
            "ibgeTownCode": {
              "type": "string",
              "minLength": 7,
              "maxLength": 7,
              "pattern": "^\\d{7}$",
              "example": "5300108",
              "description": "O campo ibgetowncode no arranjo PIX, tem o mesmo comportamento que o campo codMun descrito no item 1.6.6 do manual do PIX, conforme segue:\n\n1. Caso a informação referente ao município não seja enviada; o PSP do recebedor assumirá que não existem feriados estaduais e municipais no período em questão;\n"
            },
            "details": {
              "$ref": "#/components/schemas/Details"
            }
          }
      },
      "EnumAccountPaymentsType": {
        "type": "string",
        "enum": [
          "CACC",
          "SVGS",
          "TRAN"
        ],
        "example": "CACC",
        "description": "Tipos de contas usadas para pagamento.\nModalidades tradicionais previstas pela Resolução 4.753, não contemplando contas vinculadas, \nconta de domiciliados no exterior, contas em moedas estrangeiras e conta correspondente moeda eletrônica.\nSegue descrição de cada valor do ENUM.\n\n- CACC - Current - Conta Corrente.\n- SVGS - Savings - Conta de Poupança.\n- TRAN - TransactingAccount - Conta de Pagamento pré-paga.\n"
      },
      "DebtorAccount": {
        "type": "object",
        "description": "Objeto que contém a identificação da conta de origem do pagador.  \nAs informações quanto à conta de origem do pagador poderão ser trazidas no consentimento para a detentora, caso a iniciadora tenha coletado essas informações do cliente. Do contrário, será coletada na detentora e trazida para a iniciadora como resposta à criação do pagamento.\n",
        "required": [
          "ispb",
          "number",
          "accountType"
        ],
        "properties": {
          "ispb": {
            "type": "string",
            "minLength": 8,
            "maxLength": 8,
            "pattern": "^[0-9]{8}$",
            "example": "12345678",
            "description": "Deve ser preenchido com o ISPB (Identificador do Sistema de Pagamentos Brasileiros) do participante do SPI (Sistema de pagamentos instantâneos) somente com números.\n"
          },
          "issuer": {
            "type": "string",
            "minLength": 1,
            "maxLength": 4,
            "pattern": "^[0-9]{1,4}$",
            "example": "1774",
            "description": "Código da Agência emissora da conta sem dígito. \n(Agência é a dependência destinada ao atendimento aos clientes, ao público em geral e aos associados de cooperativas de crédito, \nno exercício de atividades da instituição, não podendo ser móvel ou transitória).\n\n[Restrição] Preenchimento obrigatório para os seguintes tipos de conta: CACC (CONTA_DEPOSITO_A_VISTA) e SVGS (CONTA_POUPANCA).\n"
          },
          "number": {
            "type": "string",
            "minLength": 1,
            "maxLength": 20,
            "pattern": "^[0-9]{1,20}$",
            "example": "1234567890",
            "description": "Deve ser preenchido com o número da conta transacional do usuário pagador, com dígito verificador (se este existir),  \nse houver valor alfanumérico, este deve ser convertido para 0.\n"
          },
          "accountType": {
            "$ref": "#/components/schemas/EnumAccountPaymentsType"
          }
        }
      },
      "CreatePixPaymentData": {
        "type": "object",
        "description": "Objeto contendo dados do pagamento e do recebedor (creditor).",
        "required": [
          "endToEndId",
          "localInstrument",
          "payment",
          "creditorAccount",
          "cnpjInitiator"
        ],
        "properties": {
          "endToEndId": {
            "$ref": "#/components/schemas/EndToEndIdWithoutRestriction"
          },
          "localInstrument": {
            "$ref": "#/components/schemas/EnumLocalInstrument"
          },
          "payment": {
            "$ref": "#/components/schemas/PaymentPix"
          },
          "creditorAccount": {
            "$ref": "#/components/schemas/CreditorAccount"
          },
          "remittanceInformation": {
            "type": "string",
            "maxLength": 140,
            "pattern": "[\\w\\W\\s]*",
            "example": "Pagamento da nota XPTO035-002.",
            "description": "Deve ser preenchido sempre que o usuário pagador inserir alguma informação adicional em um pagamento, a ser enviada ao recebedor.\n"
          },
          "qrCode": {
            "type": "string",
            "maxLength": 512,
            "pattern": "[\\w\\W\\s]*",
            "example": "00020104141234567890123426660014BR.GOV.BCB.PIX014466756C616E6F32303139406578616D706C652E636F6D27300012\nBR.COM.OUTRO011001234567895204000053039865406123.455802BR5915NOMEDORECEBEDOR6008BRASILIA61087007490062\n530515RP12345678-201950300017BR.GOV.BCB.BRCODE01051.0.080450014BR.GOV.BCB.PIX0123PADRAO.URL.PIX/0123AB\nCD81390012BR.COM.OUTRO01190123.ABCD.3456.WXYZ6304EB76\n",
            "description": "Sequência de caracteres que corresponde ao QR Code disponibilizado para o pagador.\nÉ a sequência de caracteres que seria lida pelo leitor de QR Code, e deve propiciar o retorno dos dados do pagador após consulta na DICT.\nEssa funcionalidade é possível tanto para QR Code estático quanto para QR Code dinâmico.\nNo arranjo do Pix esta é a mesma sequência gerada e/ou lida pela funcionalidade Pix Copia e Cola.\nEste campo deverá ser no formato UTF-8.\n[Restrição] Preenchimento obrigatório para pagamentos por QR Code, observado o tamanho máximo de 512 bytes.\n"
          },
          "proxy": {
            "type": "string",
            "maxLength": 77,
            "pattern": "[\\w\\W\\s]*",
            "example": "12345678901",
            "description": "Chave cadastrada no DICT pertencente ao recebedor. Os tipos de chaves podem ser: telefone, e-mail, cpf/cnpj ou chave aleatória.\nNo caso de telefone celular deve ser informado no padrão E.1641.\nPara e-mail deve ter o formato xxxxxxxx@xxxxxxx.xxx(.xx) e no máximo 77 caracteres.\nNo caso de CPF deverá ser informado com 11 números, sem pontos ou traços.\nPara o caso de CNPJ deverá ser informado com 14 números, sem pontos ou traços.\nNo caso de chave aleatória deve ser informado o UUID gerado pelo DICT, conforme formato especificado na RFC41223.\nSe informado, a detentora da conta deve validar o proxy no DICT quando localInstrument for igual a DICT, QRDN ou QRES e validar o campo creditorAccount.\nEsta validação é opcional caso o localInstrument for igual a INIC.\n[Restrição] Se localInstrument for igual a MANU, o campo proxy não deve ser preenchido. Se localInstrument for igual INIC, DICT, QRDN ou QRES, o campo proxy deve ser sempre preenchido com a chave Pix.\n"
          },
          "cnpjInitiator": {
            "type": "string",
            "pattern": "^\\d{14}$",
            "maxLength": 14,
            "example": "50685362000135",
            "description": "CNPJ do Iniciador de Pagamento devidamente habilitado para a prestação de Serviço de Iniciação no Pix."
          },
          "transactionIdentification": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9]{1,35}$",
            "maxLength": 35,
            "example": "E00038166201907261559y6j6",
            "description": "Trata-se de um identificador de transação que deve ser retransmitido intacto pelo PSP do pagador ao gerar a ordem de pagamento. Essa informação permitirá ao recebedor identificar e correlacionar a transferência, quando recebida, com a apresentação das instruções ao pagador.\nOs caracteres permitidos no contexto do Pix para o campo txid (EMV 62-05) são:\n- Letras minúsculas, de ‘a’ a ‘z’\n- Letras maiúsculas, de ‘A’ a ‘z’\n- Dígitos decimais, de ‘0’ a ‘9’\n\n[Restrição] Preenchimento condicional de acordo com o conteúdo do campo localInstument:\n\n– MANU - O campo transactionIdentification não deve ser preenchido.  \n– DICT - O campo transactionIdentification não deve ser preenchido.  \n– INIC - O campo transactionIdentification deve ser preenchido obrigatoriamente e deve conter até 25 caracteres alfanuméricos ([a-z|A-Z|0-9]).  \n– QRES - Caso o QR Code estático possua o dado <i><<i/>TxId<i>><i/> preenchido, o campo transactionIdentification deverá ser preenchido com este valor, caso o QR Code não possua o <i><<i/>TxId<i>><i/> o campo transactionIdentification não deverá ser preenchido. O <i><<i/>TxId<i>><i/> deve conter até 25 caracteres alfanuméricos ([a-z|A-Z|0-9]).  \n– QRDN - Será obrigatório seu preenchimento com o <i><<i/>TxId<i>><i/> do payload JSON do QR Code dinâmico. O <i><<i/>TxId<i>><i/> deve conter entre 26 e 35 caracteres alfanuméricos ([a-z|A-Z|0-9]).\n\nA detentora de conta deve validar se a condicionalidade e o formato do campo foram atendidas pela iniciadora de pagamento.  \n"
          },
          "ibgeTownCode": {
            "type": "string",
            "minLength": 7,
            "maxLength": 7,
            "pattern": "^\\d{7}$",
            "example": "5300108",
            "description": "O campo ibgetowncode no arranjo PIX, tem o mesmo comportamento que o campo codMun descrito no item 1.6.6 do manual do PIX, conforme segue:\n\n1. Caso a informação referente ao município não seja enviada; o PSP do recebedor assumirá que não existem feriados estaduais e municipais no período em questão;\n"
          },
          "authorisationFlow": {
            "type": "string",
            "enum": [
              "HYBRID_FLOW",
              "CIBA_FLOW",
              "FIDO_FLOW"
            ],
            "example": "HYBRID_FLOW",
            "description": "Campo condicional utilizado para identificar o fluxo de autorização em que o pagamento foi solicitado.\n\n[Restrição] Se CIBA ou FIDO, preenchimento obrigatório. Caso o campo não esteja presente no payload, subentende-se que o fluxo de autorização utilizado é o HYBRID_FLOW.\n"
          }
        }
      },
      "EndToEndIdWithoutRestriction": {
        "type": "string",
        "minLength": 32,
        "maxLength": 32,
        "pattern": "^([E])([0-9]{8})([0-9]{4})(0[1-9]|1[0-2])(0[1-9]|[1-2][0-9]|3[0-1])(2[0-3]|[01][0-9])([0-5][0-9])([a-zA-Z0-9]{11})$",
        "example": "E9040088820210128000800123873170",
        "description": "Deve ser preenchido no formato padrão ExxxxxxxxyyyyMMddHHmmkkkkkkkkkkk (32 caracteres; “case sensitive”, isso é, diferencia letras maiúsculas e minúsculas), sendo:\n\n• “E” – fixo (1 caractere);  \n\n• xxxxxxxx – identificação do agente que gerou o ´EndToEndId´, podendo ser: o ISPB do participante direto ou o ISPB do participante indireto (8 caracteres numéricos [0-9]);  \n\n• yyyyMMddHHmm – data, hora e minuto (12 caracteres), seguindo o horário UTC, da submissão da ordem de pagamento, caso a liquidação seja prioritária, ou prevista para o envio da ordem ao sistema de liquidação, caso seja realizado um agendamento. Para ordens prioritárias e não prioritárias, aceita-se o preenchimento, pelo agente que gerou o ´EndToEndId´, com uma tolerância máxima de 12 horas, para o futuro e para o passado, em relação ao horário efetivo de processamento da ordem pelo SPI;  \n\n• kkkkkkkkkkk – sequencial criado pelo agente que gerou o ´EndToEndId´ (11 caracteres alfanuméricos [a-z/A-Z/0-9]). Deve ser único dentro de cada “yyyyMMddHHmm”.  \n\nAdmite-se que o ´EndToEndId´ seja gerado pelo participante direto, pelo participante indireto ou pelo iniciador de pagamento.\n  \nEle deve ser único, não podendo ser repetido em qualquer outra operação enviada ao SPI.\n\nNo caso de Pix agendamento, a iniciadora deverá, no que tange a composição do endToEndId, utilizar a data para a qual o Pix está sendo agendado e horário fixo 15:00 UTC, que dará para a detentora a janela de efetivação de 00:00 e 23:59 do horário de Brasília.  \n"
      },
      "PaymentPix": {
        "type": "object",
        "description": "Objeto contendo dados do pagameto como moeda e valor.",
        "required": [
          "amount",
          "currency"
        ],
        "properties": {
          "amount": {
            "type": "string",
            "minLength": 4,
            "maxLength": 19,
            "pattern": "^((\\d{1,16}\\.\\d{2}))$",
            "example": "100000.12",
            "description": "Valor da transação com 2 casas decimais. O valor deve ser o mesmo enviado no consentimento. \n\nPara QR Code estático com valor pré-determinado no QR Code ou para QR Code dinâmico com indicação de que o valor não pode ser alterado: O campo amount deve ser preenchido com o valor estabelecido no QR Code. \nCaso seja preenchido com valor divergente do QR Code, deve ser retornado um erro HTTP Status 422.\n"
          },
          "currency": {
            "type": "string",
            "maxLength": 3,
            "pattern": "^([A-Z]{3})$",
            "example": "BRL",
            "description": "Código da moeda nacional segundo modelo ISO-4217, ou seja, 'BRL'.  \nTodos os valores monetários informados estão representados com a moeda vigente do Brasil.\n"
          }
        }
      },
      "PatchPixPaymentData": {
        "type": "object",
        "required": [
          "status",
          "cancellation"
        ],
        "properties": {
          "status": {
            "$ref": "#/components/schemas/EnumPaymentCancellationStatusType"
          },
          "cancellation": {
            "type": "object",
            "description": "Objeto que agrupa as informações de qual foi o usuário pagador que solicitou o cancelamento da transação.  \nObservação: este campo é necessário porque, em casos de múltiplas alçadas de autorização, é possível que o pagamento seja solicitado por um usuário pagador e cancelado por outro.\n",
            "required": [
              "cancelledBy"
            ],
            "properties": {
              "cancelledBy": {
                "type": "object",
                "description": "Informação relacionada ao usuário pagador que solicitou o cancelamento do pagamento.",
                "required": [
                  "document"
                ],
                "properties": {
                  "document": {
                    "type": "object",
                    "description": "Objeto que consolida os dados do documento do usuário que solicitou o cancelamento.",
                    "required": [
                      "identification",
                      "rel"
                    ],
                    "properties": {
                      "identification": {
                        "type": "string",
                        "maxLength": 11,
                        "description": "Número do documento do usuário pagador responsável pelo cancelamento do pagamento.",
                        "example": "11111111111",
                        "pattern": "^\\d{11}$"
                      },
                      "rel": {
                        "type": "string",
                        "maxLength": 3,
                        "description": "Tipo do documento do usuário pagador responsável pelo cancelamento do pagamento.",
                        "example": "CPF",
                        "pattern": "^[A-Z]{3}$"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "EnumPaymentCancellationStatusType": {
        "type": "string",
        "enum": [
          "CANC"
        ],
        "example": "CANC",
        "description": "Utilizado para informar para qual estado deve ir o pagamento.  \nAtualmente o único valor possível é CANC.\n"
      }
    }
  }
}