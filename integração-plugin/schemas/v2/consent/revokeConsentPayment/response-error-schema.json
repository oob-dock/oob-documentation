{
    "$schema": "https://json-schema.org/draft-07/schema",
	"description": "Objeto com detalhes do erro ocorrido. Deve ser um objeto do tipo ResponseErrorPatchConsent em caso de erro de negócio ao tentar realizar o pagamento. Deve ser um responseError padrão se for um erro de sistema",
	"oneOf": [
		{
			"$ref": "#/$defs/ResponseErrorPatchConsent"
		},
		{
			"$ref": "../../common/response-error-schema.json"
		}
	],
	"additionalProperties": false,
	"$defs": {
		"ResponseErrorPatchConsent": {
			"type": "object",
			"description": "Listagem de erros ocorridos ao processar a solicitação de revogação do consentimento de pagamento pix agendado",
			"required": [
				"errors"
			],
			"properties": {
				"errors": {
					"type": "array",
					"minItems": 1,
					"maxItems": 6,
					"items": {
						"type": "object",
						"required": [
							"code",
							"title",
							"detail"
						],
						"properties": {
							"code": {
								"type": "string",
                                "maxLength": 50,
								"enum": [
									"INFORMACAO_USUARIO_REQUERIDA",
									"OPERACAO_NAO_PERMITIDA_STATUS",
									"OPERACAO_NAO_SUPORTADA_TIPO_CONSENTIMENTO",
									"TEMPO_LIMITE_REVOGACAO_EXCEDIDO",
									"MOTIVO_REVOGACAO_NAO_PERMITIDO",
									"INFORMACAO_ADICIONAL_REVOGACAO_REQUERIDA"
								],
								"examples": [
									"INFORMACAO_USUARIO_REQUERIDA"
								],
								"description": "Códigos de erros previstos na revogação do consentimento de pagamento:\n- INFORMACAO_USUARIO_REQUERIDA - Informação do usuário requerida.\n- OPERACAO_NAO_PERMITIDA_STATUS - Operação não permitida.\n- OPERACAO_NAO_SUPORTADA_TIPO_CONSENTIMENTO - Operação não permitida.\n- TEMPO_LIMITE_REVOGACAO_EXCEDIDO - Prazo limite para revogação excedido.\n- MOTIVO_REVOGACAO_NAO_PERMITIDO - Motivo de revogação não permitido.\n- INFORMACAO_ADICIONAL_REVOGACAO_REQUERIDA - Informação adicional requerida.\n"
							},
							"title": {
								"type": "string",
								"maxLength": 255,
								"pattern": "\\w*\\W*",
								"examples": [
									"Informação do usuário requerida."
								],
								"description": "Título específico do erro reportado, de acordo com o código enviado:\n- INFORMACAO_USUARIO_REQUERIDA: Informação do usuário requerida.\n- OPERACAO_NAO_PERMITIDA_STATUS: Operação não permitida.\n- OPERACAO_NAO_SUPORTADA_TIPO_CONSENTIMENTO: Operação não permitida.\n- TEMPO_LIMITE_REVOGACAO_EXCEDIDO: Prazo limite para revogação excedido.\n- MOTIVO_REVOGACAO_NAO_PERMITIDO: Motivo de revogação não permitido.\n- INFORMACAO_ADICIONAL_REVOGACAO_REQUERIDA: Informação adicional requerida.\n"
							},
							"detail": {
								"type": "string",
								"maxLength": 2048,
								"pattern": "\\w*\\W*",
								"examples": [
									"Informação do usuário requerida."
								],
								"description": "Descrição específica do erro de acordo com o código reportado:\n- INFORMACAO_USUARIO_REQUERIDA: O campo data.revocation.loggedUser deve ser preenchido quando a revogação for feita pelo usuário final, ou seja, se o campo data.revocation.revokedBy estiver com o valor USER.\n- OPERACAO_NAO_PERMITIDA_STATUS: O consentimento só pode ser revogado nos status CONSUMED.\n- OPERACAO_NAO_SUPORTADA_TIPO_CONSENTIMENTO: Somente consentimentos para pagamentos agendados podem ser revogados, ou seja, que possuam o campo data.payment.schedule preenchido.\n- TEMPO_LIMITE_REVOGACAO_EXCEDIDO: O consentimento só pode ser revogado até o dia anterior, ou seja, a meia noite no fuso horário de Brasília do dia imediatamente anterior a data alvo da liquidação do pagamento.\n- MOTIVO_REVOGACAO_NAO_PERMITIDO: Os motivos de revogação do consentimento: FRAUD e ACCOUNT_CLOSURE só podem ser usados caso o campo: data.revocation.revokedBy tenha o valor TPP ou ASPSP, ou seja, somente no caso de revogação unilateral pela iniciadora ou detentora.\n- INFORMACAO_ADICIONAL_REVOGACAO_REQUERIDA: O campo data.revocation.reason.additionalInformation é obrigatório quando a revogação for feita pela iniciadora ou pela detentora unilateralmente, ou seja, o campo revokedBy igual a TPP ou ASPSP e o motivo de revogação for OTHER.\n"
							}
						},
						"additionalProperties": false
					}
				}
			},
			"additionalProperties": false
		}
	}
}