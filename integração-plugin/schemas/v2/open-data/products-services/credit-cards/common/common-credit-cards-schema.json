{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$defs": {
        "PersonalCreditCardResponse": {
            "type": "object",
            "required": [
                "brand"
            ],
            "properties": {
                "brand": {
                    "$ref": "#/$defs/PersonalCreditCardBrand"
                }
            },
            "additionalProperties": false
        },
        "PersonalCreditCardBrand": {
            "type": "object",
            "required": [
                "name",
                "companies"
            ],
            "properties": {
                "name": {
                    "$ref": "../../../common/common-schema.json#/$defs/Name",
                    "description": "Nome da Marca reportada pelo participante do Open Banking. O conceito a que se refere a 'marca' é em essência uma promessa da empresa em fornecer uma série específica de atributos, benefícios e serviços uniformes aos clientes."
                },
                "companies": {
                    "$ref": "#/$defs/PersonalCreditCardCompany"
                }
            },
            "additionalProperties": false
        },
        "PersonalCreditCardCompany": {
            "type": "array",
            "minItems": 1,
            "description": "Companies traz uma lista de todas as instituições da Marca.",
            "additionalItems": false,
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "name",
                            "cnpjNumber",
                            "personalCreditCards"
                        ],
                        "properties": {
                            "name": {
                                "$ref": "../../../common/common-schema.json#/$defs/Name",
                                "description": "Nome da Instituição, pertencente à marca, responsável pela comercialização dos produtos e serviços."
                            },
                            "cnpjNumber": {
                                "$ref": "../../../common/common-schema.json#/$defs/CnpjNumber"
                            },
                            "urlComplementaryList": {
                                "$ref": "../../../common/common-schema.json#/$defs/urlComplementaryList"
                            },
                            "personalCreditCards": {
                                "$ref": "#/$defs/PersonalCreditCard"
                            }
                        },
                        "additionalProperties": false
                    }
                ]
            }
        },
        "PersonalCreditCard": {
            "type": "array",
            "minItems": 1,
            "description": "Lista das contas de pagamento pós-paga",
            "additionalItems": false,
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "name",
                            "identification",
                            "rewardsProgram",
                            "fees",
                            "interest",
                            "termsConditions"
                        ],
                        "properties": {
                            "name": {
                                "type": "string",
                                "pattern": "\\w*\\W*",
                                "maxLength": 50,
                                "description": "Denominação/Identificação do nome da conta (cartão de crédito).",
                                "example": [
                                    "Cartão Universitário"
                                ]
                            },
                            "identification": {
                                "$ref": "#/$defs/CreditCardIdentification"
                            },
                            "rewardsProgram": {
                                "$ref": "#/$defs/CreditCardRewardsProgram"
                            },
                            "fees": {
                                "type": "object",
                                "description": "An explanation about the purpose of this instance.",
                                "required": [
                                    "services"
                                ],
                                "properties": {
                                    "services": {
                                        "$ref": "#/$defs/CreditCardService"
                                    }
                                },
                                "additionalProperties": false
                            },
                            "interest": {
                                "$ref": "#/$defs/CreditCardInterest"
                            },
                            "termsConditions": {
                                "$ref": "#/$defs/CreditCardTermsConditions"
                            }
                        }
                    }
                ]
            }
        },
        "BusinessCreditCardResponse": {
            "type": "object",
            "required": [
                "brand"
            ],
            "properties": {
                "brand": {
                    "$ref": "#/$defs/BusinessCreditCardBrand"
                }
            },
            "additionalProperties": false
        },
        "BusinessCreditCardBrand": {
            "type": "object",
            "required": [
                "name",
                "companies"
            ],
            "properties": {
                "name": {
                    "$ref": "../../../common/common-schema.json#/$defs/Name",
                    "description": "Nome da Marca reportada pelo participante do Open Banking. O conceito a que se refere a 'marca' é em essência uma promessa da empresa em fornecer uma série específica de atributos, benefícios e serviços uniformes aos clientes."
                },
                "companies": {
                    "$ref": "#/$defs/BusinessCreditCardCompany"
                }
            },
            "additionalProperties": false
        },
        "BusinessCreditCardCompany": {
            "type": "array",
            "minItems": 1,
            "description": "Companies traz uma lista de todas as instituições da Marca.",
            "additionalItems": false,
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "name",
                            "cnpjNumber",
                            "businessCreditCards"
                        ],
                        "properties": {
                            "name": {
                                "$ref": "../../../common/common-schema.json#/$defs/Name",
                                "description": "Nome da Instituição, pertencente à marca, responsável pela comercialização dos produtos e serviços."
                            },
                            "cnpjNumber": {
                                "$ref": "../../../common/common-schema.json#/$defs/CnpjNumber"
                            },
                            "urlComplementaryList": {
                                "$ref": "../../../common/common-schema.json#/$defs/urlComplementaryList"
                            },
                            "businessCreditCards": {
                                "$ref": "#/$defs/BusinessCreditCard"
                            }
                        },
                        "additionalProperties": false
                    }
                ]
            }
        },
        "BusinessCreditCard": {
            "type": "array",
            "minItems": 1,
            "description": "Lista das contas de pagamento pós-paga",
            "additionalItems": false,
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "name",
                            "identification",
                            "rewardsProgram",
                            "fees",
                            "interest",
                            "termsConditions"
                        ],
                        "properties": {
                            "name": {
                                "type": "string",
                                "pattern": "\\w*\\W*",
                                "maxLength": 50,
                                "description": "Denominação/Identificação do nome da conta (cartão de crédito).",
                                "example": [
                                    "Cartão Universitário"
                                ]
                            },
                            "identification": {
                                "$ref": "#/$defs/CreditCardIdentification"
                            },
                            "rewardsProgram": {
                                "$ref": "#/$defs/CreditCardRewardsProgram"
                            },
                            "fees": {
                                "type": "object",
                                "description": "An explanation about the purpose of this instance.",
                                "required": [
                                    "services"
                                ],
                                "properties": {
                                    "services": {
                                        "$ref": "#/$defs/CreditCardService"
                                    }
                                },
                                "additionalProperties": false
                            },
                            "interest": {
                                "$ref": "#/$defs/CreditCardInterest"
                            },
                            "termsConditions": {
                                "$ref": "#/$defs/CreditCardTermsConditions"
                            }
                        }
                    }
                ]
            }
        },
        "CreditCardIdentification": {
            "type": "object",
            "required": [
                "product",
                "creditCard"
            ],
            "properties": {
                "product": {
                    "type": "object",
                    "required": [
                        "type"
                    ],
                    "properties": {
                        "type": {
                            "type": "string",
                            "description": "Categoria atribuída a um cartão de pagamento, sob uma certa denominação, que lhe agrega um conjunto de vantagens, diferenciando-o de acordo com o perfil do portador. Essa categoria é definida pelo BACEN e está contida no documento de nome 'Elaboração e Remessa de Informações Relativas aos Cartões de Pagamento Emissores'.",
                            "Enum": [ 
                                "CLASSIC_NACIONAL", 
                                "CLASSIC_INTERNACIONAL", 
                                "GOLD", 
                                "PLATINUM", 
                                "INFINITE", 
                                "ELECTRON", 
                                "STANDARD_NACIONAL", 
                                "STANDARD_INTERNACIONAL", 
                                "ELETRONIC", 
                                "BLACK", 
                                "REDESHOP", 
                                "MAESTRO_MASTERCARD_MAESTRO", 
                                "GREEN", 
                                "BLUE", 
                                "BLUEBOX", 
                                "PROFISSIONAL_LIBERAL", 
                                "CHEQUE_ELETRONICO", 
                                "CORPORATIVO", 
                                "EMPRESARIAL", 
                                "COMPRAS", 
                                "OUTROS" 
                            ],
                            "example": [
                                "PLATINUM"
                            ]                    
                        },
                        "additionalInfo": {
                            "$ref": "../../../common/common-schema.json#/$defs/AdditionalInfo",
                            "description": "Informações complementares se tipo de Cartão 'OUTROS'. Campo deve ser obrigatoriamente preenchido se selecionado 'OUTROS'."
                        }
                    },
                    "additionalProperties": false
                },
                "creditCard": {
                    "type": "object",
                    "required": [
                        "network"
                    ],
                    "properties": {
                        "network": {
                            "type": "string",
                            "description": "Categoria de Bandeiras de Cartões de Crédito (Instituidor do arranjo de pagamento). Bandeira é a detentora de todos os direitos e deveres da utilização da marca estampada no cartão, inclusive as bandeiras pertencentes aos emissores. p.ex. 'American Express', 'Diners Club' Essas bandeiras estão definidas em documento do BACEN de nome 'Elaboração e Remessa de Informações Relativas aos Cartões de Pagamento Emissores'.",
                            "Enum": [ 
                                "VISA", 
                                "MASTERCARD", 
                                "AMERICAN_EXPRESS", 
                                "DINERS_CLUB", 
                                "HIPERCARD", 
                                "BANDEIRA_PROPRIA", 
                                "CHEQUE_ELETRONICO", 
                                "ELO", 
                                "OUTRAS" 
                            ],
                            "example": [
                                "MASTERCARD"
                            ]
                        },
                        "additionalInfo": {
                            "$ref": "../../../common/common-schema.json#/$defs/AdditionalInfo",
                            "description": "Informações complementares se tipo de Cartão 'OUTROS'. Campo deve ser obrigatoriamente preenchido se selecionado 'OUTROS'."
                        }
                    },
                    "additionalProperties": false
                }
            },
            "additionalProperties": false
        },
        "CreditCardRewardsProgram": {
            "type": "object",
            "required": [
                "hasRewardProgram"
            ],
            "properties": {
                "hasRewardProgram": {
                    "type": "boolean",
                    "description": "Indicador da existência de programa de fidelidade/recompensa associado à conta de pagamento pós-paga (cartão) true false.",
                    "example": [
                        "false"
                    ]
                },
                "rewardProgramInfo": {
                    "type": "string",
                    "maxLength": 2000,
                    "pattern": "\\w*\\W*",
                    "description": "Informações de termos e condições do programa de fidelidade/recompensa. Pode ser informada a URL referente ao endereço onde constam as condições informadas. Será de preenchimento obrigatório caso o campo hasRewardProgram esteja preenchido como true.",
                    "example": [
                        "https://empresaa1.com/credit_cards_rewards"
                    ]
                }
            },
            "additionalProperties": false
        },
        "CreditCardService": {
            "type": "array",
            "minItems": 1,
            "maxItems": 9,
            "description": "Lista das Tarifas cobradas sobre Serviço relacionadas a Modalidade de Pagamento Pós-Pagas.",
            "additionalItems": false,
            "items": {
                "anyOf": [
                    {
                        "type": "object",
                        "required": [
                            "name",
                            "code",
                            "chargingTriggerInfo",
                            "prices",
                            "minimum",
                            "maximum"
                        ],
                        "properties": {
                            "name": {
                                "type": "string",
                                "description": "Denominação de Serviços relacionados à Modalidade de Contas de Pagamento Pós-Pagas (Vide ENUM).",
                                "Enum": [ 
                                    "ANUIDADE_CARTAO_BASICO_NACIONAL", 
                                    "ANUIDADE_CARTAO_BASICO_INTERNACIONAL", 
                                    "ANUIDADE_DIFERENCIADA", 
                                    "UTILIZACAO_CANAIS_ATENDIMENTO_RETIRADA_ESPECIE_BRASIL", 
                                    "UTILIZACAO_CANAIS_ATENDIMENTO_RETIRADA_ESPECIE_EXTERIOR", 
                                    "AVALIACAO_EMERGENCIAL_CREDITO", 
                                    "FORNECIMENTO_SEGUNDA_VIA_FUNCAO_CREDITO", 
                                    "PAGAMENTO_CONTAS_UTILIZANDO_FUNCAO_CREDITO", 
                                    "SMS" 
                                ],
                                "example": [
                                    "ANUIDADE_CARTAO_BASICO_NACIONAL"
                                ]
                            },
                            "code": {
                                "type": "string",
                                "description": "Sigla de identificação do Serviço relacionado à Modalidade de Contas de Pagamento Pós-Pagas (Vide ENUM).",
                                "Enum": [ 
                                    "ANUIDADE_NACIONAL", 
                                    "ANUIDADE_INTERNACIONAL", 
                                    "ANUIDADE_DIFERENCIADA", 
                                    "SAQUE_CARTAO_BRASIL", 
                                    "SAQUE_CARTAO_EXTERIOR", 
                                    "AVALIACAO_EMERGENCIAL_CREDITO", 
                                    "EMISSAO_SEGUNDA_VIA", 
                                    "TARIFA_PAGAMENTO_CONTAS", 
                                    "SMS" 
                                ],
                                "example": [
                                    "ANUIDADE_NACIONAL"
                                ]
                            },
                            "chargingTriggerInfo": {
                                "$ref": "../../../common/common-schema.json#/$defs/ChargingTriggerInfo",
                                "description": "Fatos geradores de cobrança que incidem sobre as Modalidades de Contas de Pagamento Pós-Pagas informada, para pessoa jurídica. (Campo Livre)."
                            },
                            "prices": {
                                "$ref": "../../../common/common-schema.json#/$defs/Price"
                            },
                            "minimum": {
                                "$ref": "../../../common/common-schema.json#/$defs/MinimumPrice"
                            },
                            "maximum": {
                                "$ref": "../../../common/common-schema.json#/$defs/MaximumPrice"
                            }
                        },
                        "additionalProperties": false
                    }
                ]
            }
        },
        "CreditCardInterest": {
            "type": "object",
            "description": "Informações sobre taxas de juros.",
            "required": [
                "rates",
                "instalmentRates",
                "otherCredits"
            ],
            "properties": {
                "rates": {
                    "$ref": "../../../common/common-schema.json#/$defs/InterestRate",
                    "description": "Lista da representação que traz o conjunto de informações necessárias para demonstrar a distribuição de frequências das taxas de juros remuneratórios para crédito rotativo."
                },
                "instalmentRates": {
                    "$ref": "../../../common/common-schema.json#/$defs/InterestRate",
                    "description": "Lista da representação que traz o conjunto de informações necessárias para demonstrar a distribuição de frequências das taxas de juros remuneratórios para parcelamento do saldo devedor"
                },
                "otherCredits": {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 3,
                    "description": "Lista de outras operações de crédito.",
                    "additionalItems": false,
                    "$ref": "#/$defs/CreditCardInterestRate"
                }
            },
            "additionalProperties": false
        },
        "CreditCardInterestRate": {
            "type": "object",
            "required": [
                "code"
            ],
            "properties": {
                "code": {
                    "type": "string",
                    "description": "Lista de outras operações de crédito.",
                    "Enum": [ 
                        "SAQUE_A_CREDITO", 
                        "PAGAMENTOS_CONTAS", 
                        "OUTROS"
                    ],
                    "example": [
                        "SAQUE_A_CREDITO"
                    ]
                },
                "additionalInfo": {
                    "$ref": "../../../common/common-schema.json#/$defs/AdditionalInfo"
                }
            },
            "additionalProperties": false
        },
        "CreditCardTermsConditions": {
            "type": "object",
            "required": [
                "minimumFeeRate",
                "elegibilityCriteriaInfo",
                "closingProcessInfo"
            ],
            "properties": {
                "minimumFeeRate": {
                    "type": "string",
                    "pattern": "(^[0-9](\\.[0-9]{2})$|^NA$)",
                    "maxLength": 4,
                    "description": "Percentual para pagamento mínimo sobre o saldo devedor da fatura.",
                    "example": [
                        "0.25"
                    ]
                },
                "additionalInfo": {
                    "type": "string",
                    "maxLength": 500,
                    "pattern": "\\w*\\W*",
                    "description": "Campo aberto para detalhamento de taxas de juros.",
                    "example": [
                        "NA"
                    ]
                },
                "elegibilityCriteriaInfo": {
                    "type": "string",
                    "maxLength": 2000,
                    "pattern": "\\w*\\W*",
                    "description": "Informação sobre as condições e critérios de elegibilidade do emissor do cartão. Pode ser informada a URL referente ao endereço onde constam as condições informadas.",
                    "example": [
                        "https://empresaa1.com/creditcards_elegibility_criteria"
                    ]
                },
                "closingProcessInfo": {
                    "type": "string",
                    "maxLength": 2000,
                    "pattern": "\\w*\\W*",
                    "description": "Descrição dos procedimentos para encerramento da conta de pagamento pós paga. Pode ser informada a URL referente ao endereço onde constam as condições informadas.",
                    "example": [
                        "https://empresaa1.com/creditcards_closing_process"
                    ]
                }
            },
            "additionalProperties": false
        }
    }
}