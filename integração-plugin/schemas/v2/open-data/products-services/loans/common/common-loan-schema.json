{
    "$schema": "https://json-schema.org/draft-07/schema",
    "$defs": {
        "ResponsePersonalLoans": {
        "type": "object",
        "required": [
            "brand"
        ],
        "properties": {
            "brand": {
                "$ref": "#/$defs/PersonalLoanBrand"
            }
        },
        "additionalProperties": false
    },
    "PersonalLoanBrand": {
        "type": "object",
        "required": [
            "name",
            "companies"
        ],
        "properties": {
            "name": {
                "$ref": "../../../common/common-schema.json#/$defs/Name",
                "description": "Nome da Marca reportada pelo participante do Open Banking. O conceito a que se refere a 'marca' é em essência uma promessa da empresa em fornecer uma série específica de atributos, benefícios e serviços uniformes aos clientes."
            },
            "companies": {
                "$ref": "#/$defs/PersonalLoanCompany"
            }
        },
        "additionalProperties": false
    },
    "PersonalLoanCompany": {
        "type": "array",
        "minItems": 1,
        "description": "Companies traz uma lista de todas as instituições da Marca.",
        "additionalItems": false,
        "items": {
            "anyOf": [
                {
                    "type": "object",
                    "required": [
                        "name",
                        "cnpjNumber",
                        "PersonalLoans"
                    ],
                    "properties": {
                        "name": {
                            "$ref": "../../../common/common-schema.json#/$defs/Name",
                            "description": "Nome da Instituição, pertencente à marca, responsável pela comercialização dos produtos e serviços."
                        },
                        "cnpjNumber": {
                            "$ref": "../../../common/common-schema.json#/$defs/CnpjNumber"
                        },
                        "urlComplementaryList": {
                            "$ref": "../../../common/common-schema.json#/$defs/urlComplementaryList"
                        },
                        "personalLoans": {
                            "$ref": "#/$defs/PersonalLoans"
                        }
                    },
                    "additionalProperties": false
                }
            ]
        }
    },
    "PersonalLoans": {
        "type": "array",
        "description": "Lista de modalidades de empréstimos.",
        "additionalItems": true,
        "items": {
            "anyOf": [
                {
                    "type": "object",
                    "required": [
                        "type",
                        "fees",
                        "requiredWarranties",
                        "termsConditions"
                    ],
                    "properties": {
                        "type": {
                            "$ref": "#/$defs/PersonalLoanType"
                        },
                        "fees": {
                            "$ref": "#/$defs/LoanFees"
                        },
                        "interestRates": {
                            "$ref": "#/$defs/LoanInterestRate"
                        },
                        "requiredWarranties": {
                            "type": "array",
                            "minItems": 1,
                            "maxItems": 14,
                            "$ref": "../../../common/common-schema.json#/$defs/RequiredWarranties"
                        },
                        "TermsConditions": {
                            "$ref": "../../../common/common-schema.json#/$defs/TermsConditions"
                        }
                    }
                }
            ]
        }
    },
    "PersonalLoanType": {
        "type": "string",
        "descricao": "Modalidades de empréstimos ofertados para pessoa Natural, conforme Circular 4015-Bacen. Segundo cartilha do Bacen: Empréstimo é um contrato entre o cliente e uma instituição financeira (banco, cooperativa de crédito, caixa econômica) pelo qual o cliente recebe uma quantia em dinheiro que deverá ser devolvida em prazo determinado, acrescida dos juros acertados. Os recursos obtidos no empréstimo não tem destinação específica.\n EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO - operações de crédito com retenção de parcela do salário ou benefício do tomador, para o pagamento das prestações do empréstimo – desconto em folha de pagamento – nos termos da legislação em vigor\n EMPRESTIMO_CREDITO_PESSOAL_SEM_CONSIGNACAO - operações de empréstimos às pessoa natural, sem vinculação com aquisição de bem ou serviço e sem retenção de parcela do salário ou benefício do tomador para o pagamento das prestações do empréstimo\n EMPRESTIMO_HOME_EQUITY - empréstimos pessoa natural, garantidos por hipoteca ou por alienação fiduciária de bens imóveis residenciais, sem vinculação a aquisição de bens\n EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO - segundo PNMPO é o crédito concedido para financiamento das atividades produtivas, cuja metodologia será estabelecida em regulamento, observada a preferência do relacionamento direto com os empreendedores, admitido o uso de tecnologias digitais e eletrônicas que possam substituir o contato presencial\n EMPRESTIMO_CHEQUE_ESPECIAL - operações de crédito vinculadas à conta corrente, nas quais determinado limite de crédito é disponibilizado aos clientes para utilização de acordo com suas conveniências, sem necessidade de comunicação prévia à instituição financeira\n EMPRESTIMO_CONTA_GARANTIDA - operações de crédito rotativo, nas quais determinado limite de crédito é disponibilizado para utilização pelo cliente, através da simples movimentação da conta corrente e/ou solicitação formal à instituição financeira. As operações classificadas nessa modalidade não devem ter data definida para a amortização do saldo devedor, exceto a estabelecida para vigência do contrato",
        "Enum": [ 
            "EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO", 
            "EMPRESTIMO_CREDITO_PESSOAL_SEM_CONSIGNACAO", 
            "EMPRESTIMO_HOME_EQUITY", 
            "EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO", 
            "EMPRESTIMO_CHEQUE_ESPECIAL", 
            "EMPRESTIMO_CONTA_GARANTIDA" 
        ],
        "example": [
            "EMPRESTIMO_CREDITO_PESSOAL_CONSIGNADO"
        ]
    },
    "ResponseBusinessLoans": {
        "type": "object",
        "required": [
            "brand"
        ],
        "properties": {
            "brand": {
                "$ref": "#/$defs/BusinessLoanBrand"
            }
        },
        "additionalProperties": false
    },
    "BusinessLoanBrand": {
        "type": "object",
        "required": [
            "name",
            "companies"
        ],
        "properties": {
            "name": {
                "$ref": "../../../common/common-schema.json#/$defs/Name",
                "description": "Nome da Marca reportada pelo participante do Open Banking. O conceito a que se refere a 'marca' é em essência uma promessa da empresa em fornecer uma série específica de atributos, benefícios e serviços uniformes aos clientes."
            },
            "companies": {
                "$ref": "#/$defs/BusinesLoanCompany"
            }
        },
        "additionalProperties": false
    },
    "BusinessLoanCompany": {
        "type": "array",
        "minItems": 1,
        "description": "Companies traz uma lista de todas as instituições da Marca.",
        "additionalItems": false,
        "items": {
            "anyOf": [
                {
                    "type": "object",
                    "required": [
                        "name",
                        "cnpjNumber",
                        "BusinessLoans"
                    ],
                    "properties": {
                        "name": {
                            "$ref": "../../../common/common-schema.json#/$defs/Name",
                            "description": "Nome da Instituição, pertencente à marca, responsável pela comercialização dos produtos e serviços."
                        },
                        "cnpjNumber": {
                            "$ref": "../../../common/common-schema.json#/$defs/CnpjNumber"
                        },
                        "urlComplementaryList": {
                            "$ref": "../../../common/common-schema.json#/$defs/urlComplementaryList"
                        },
                        "BusinessLoans": {
                            "$ref": "#/$defs/BusinessLoans"
                        }
                    },
                    "additionalProperties": false
                }
            ]
        }
    },
    "BusinessLoans": {
        "type": "array",
        "description": "Lista de modalidades de empréstimos.",
        "additionalItems": true,
        "items": {
            "anyOf": [
                {
                    "type": "object",
                    "required": [
                        "type",
                        "fees",
                        "requiredWarranties",
                        "termsConditions"
                    ],
                    "properties": {
                        "type": {
                            "$ref": "#/$defs/BusinessLoanType"
                        },
                        "fees": {
                            "$ref": "#/$defs/LoanFees"
                        },
                        "interestRates": {
                            "$ref": "#/$defs/LoanInterestRate"
                        },
                        "requiredWarranties": {
                            "type": "array",
                            "minItems": 1,
                            "maxItems": 14,
                            "$ref": "../../../common/common-schema.json#/$defs/RequiredWarranties"
                        },
                        "TermsConditions": {
                            "$ref": "../../../common/common-schema.json#/$defs/TermsConditions"
                        }
                    }
                }
            ]
        }
    },
    "BusinessLoantype": {
        "type": "string",
        "description": "Modalidades de empréstimos ofertados para pessoas Jurídicas, conforme Circular 4015-Bacen. Segundo cartilha do Bacen: Empréstimo é um contrato entre o cliente e uma instituição financeira (banco, cooperativa de crédito, caixa econômica) pelo qual o cliente recebe uma quantia em dinheiro que deverá ser devolvida em prazo determinado, acrescida dos juros acertados. Os recursos obtidos no empréstimo não tem destinação específica.\n Empréstimo-Microcrédito Produtivo Orientado - segundo PNMPO é o crédito concedido para financiamento das atividades produtivas, cuja metodologia será estabelecida em regulamento, observada a preferência do relacionamento direto com os empreendedores, admitido o uso de tecnologias digitais e eletrônicas que possam substituir o contato presencial\n Empréstimo-Cheque especial - operações de crédito vinculadas à conta corrente, nas quais determinado limite de crédito é disponibilizado aos clientes para utilização de acordo com suas conveniências, sem necessidade de comunicação prévia à instituição financeira\n Empréstimo-Conta garantida - operações de crédito rotativo, nas quais determinado limite de crédito é disponibilizado para utilização pelo cliente, através da simples movimentação da conta corrente e/ou solicitação formal à instituição financeira. As operações classificadas nessa modalidade não devem ter data definida para a amortização do saldo devedor, exceto a estabelecida para vigência do contrato\n Empréstimo-Capital de giro com prazo de vencimento até 365 dias: operações de crédito voltadas para o financiamento de curto prazo (igual ou inferior a 365 dias) das pessoas jurídicas, vinculadas às necessidades de capital de giro e a um contrato específico que estabeleça prazos, taxas e garantias\n Empréstimo-Capital de giro com prazo vencimento superior a 365 dias: operações de crédito voltadas para o financiamento de médio e longo prazo (superior a 365 dias) das pessoas jurídicas, vinculadas às necessidades de capital de giro e a um contrato específico que estabeleça prazos, taxas e garantias\n Empréstimo-Capital de giro rotativo: operações de crédito voltadas para o financiamento de capital de giro, vinculadas a um contrato que estabeleça linha de crédito rotativo, de forma que, à medida que a empresa devedora amortize os empréstimos já tomados, o limite disponível para utilização seja restituído, e amortizações com datas predeterminadas, podendo ser facultado ao devedor repactuar o fluxo de pagamentos ao longo da vigência do contrato",
        "Enum": [ 
            "EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO", 
            "EMPRESTIMO_CHEQUE_ESPECIAL", 
            "EMPRESTIMO_CONTA_GARANTIDA", 
            "EMPRESTIMO_CAPITAL_GIRO_PRAZO_VENCIMENTO_ATE_365_DIAS", 
            "EMPRESTIMO_CAPITAL_GIRO_PRAZO_VENCIMENTO_SUPERIOR_365_DIAS", 
            "EMPRESTIMO_CAPITAL_GIRO_ROTATIVO" 
        ],
        "example": [
            "EMPRESTIMO_MICROCREDITO_PRODUTIVO_ORIENTADO"
        ]
    },
    "LoanFees": {
        "type": "object",
        "description": "Objeto que reúne informações de tarifas de serviços.",
        "required": [
            "services"
        ],
        "properties": {
            "services": {
                "$ref": "#/$defs/LoanService"
            }
        }
    },
    "LoanService": {
        "type": "array",
        "description": "Lista das Tarifas cobradas sobre Serviços.",
        "additionalItems": true,
        "items": { 
            "anyOf": [
                {
                    "type": "object",
                    "description": "An explanation about the purpose of this instance.",
                    "required": [
                        "name",
                        "code",
                        "chargingTriggerInfo",
                        "prices",
                        "minimum",
                        "maximum"
                    ],
                    "properties": {
                        "name": {
                            "$ref": "../../../common/common-schema.json#/$defs/ServiceName",
                            "description": "Nomes das Tarifas cobradas sobre Serviços relacionados à Modalidade informada do Empréstimo para pessoa natural/jurídica."
                        },
                        "code": {
                            "$ref": "../../../common/common-schema.json#/$defs/Code",
                            "description": "Sigla de identificação do serviço relacionado à Modalidade informada de Empréstimo para pessoa natural/jurídica."
                        },
                        "chargingTriggerInfo": {
                            "$ref": "../../../common/common-schema.json#/$defs/ChargingTriggerInfo",
                            "description": "Fatores geradores de cobrança que incidem sobre as Modalidades informada de Empréstimos para pessoa natural/jurídica."
                        },
                        "prices": {
                            "$ref": "../../../common/common-schema.json#/$defs/Price"
                        },
                        "minimum": {
                            "$ref": "../../../common/common-schema.json#/$defs/MinimumPrice"
                        },
                        "maximum": {
                            "$ref": "../../../common/common-schema.json#/$defs/MaximumPrice"
                        }
                    },
                    "additionalProperties": false
                }
            ]
        }
    },
    "LoanInterestRate": {
        "type": "array",
        "minItems": 1,
        "description": "Lista que traz o conjunto de informações necessárias para demonstrar a distribuição de frequências das taxas de juros remuneratórios da Modalidade de crédito.",
        "additionalItems": true,
        "items": {
            "anyOf": [
                {
                    "type": "object",
                    "description": "An explanation about the purpose of this instance.",
                    "required": [
                        "referentialRateIndexer",
                        "rate",
                        "applications",
                        "minimumRate",
                        "maximumRate"
                    ],
                    "properties": {
                        "referentialRateIndexer": {
                            "$ref": "../../../common/common-schema.json#/$defs/ReferentialRateIndexer"
                        },
                        "rate": {
                            "$ref": "../../../common/common-schema.json#/$defs/RateInterest"
                        },
                        "applications": {
                            "$ref": "#/$defs/ApplicationRate"
                        },
                        "minimumRate": {
                            "$ref": "../../../common/common-schema.json#/$defs/Rate",
                            "description": "Percentual mínimo cobrado (taxa efetiva) no mês de referência, para o Empréstimo contratado A apuração pode acontecer com até 4 casas decimais. O preenchimento deve respeitar as 4 casas decimais, mesmo que venham preenchidas com zeros (representação de porcentagem p.ex: 0.1500. Este valor representa 15%. O valor 1 representa 100%)."
                        },
                        "maximumRate": {
                            "$ref": "../../../common/common-schema.json#/$defs/Rate",
                            "description": "Percentual máximo cobrado (taxa efetiva) no mês de referência, para o Empréstimo contratado A apuração pode acontecer com até 4 casas decimais. O preenchimento deve respeitar as 4 casas decimais, mesmo que venham preenchidas com zeros (representação de porcentagem p.ex: 0.1500. Este valor representa 15%. O valor 1 representa 100%)."
                        }
                    },
                    "additionalProperties": false
                    }
                ]
            }
        }
    }
}

